---
layout: post
title:  Thinking about data
date:   2020-07-15 17:00:35 +0300
style: fill
color: success
image:  'assets/img/whatIsPulsar.jpg'
description: First module related to telemetry data analysis in the space exploration 
tags:   [space, astrophile, pulsar, median, mean, statistics, blog, maths]
---

## What is Pulsar
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A pulsar is a highly magnetized rotating neutron star that emits beams of electromagnetic radiation out of its magnetic poles. This radiation can be observed only when a beam of emission is pointing toward Earth and is responsible for the pulsed appearance of emission. 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ohk it was quite technical so in simple words, Pulsars are spherical, compact objects that are about the size of a large city but contain more mass than the sun. Scientists are using pulsars to study extreme states of matter, search for planets beyond Earth's solar system and measure cosmic distances. Ok, again it was a little bit technical so let me untie the thread, from Earth, pulsars often look like flickering stars. On and off, on and off, they seem to blink with a regular rhythm. But the light from pulsars does not flicker or pulse, and these objects are not stars.  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pulsars radiate two steady, narrow beams of light in opposite directions. Although the light from the beam is steady, pulsars appear to flicker because they also spin. It's the same reason a lighthouse appears to blink when seen by a sailor on the ocean: As the pulsar rotates, the beam of light may sweep across the Earth, then swing out of view, then swing back around again. To an astronomer on the ground, the light goes in and out of view, giving the impression that the pulsar is blinking on and off. To know more[Pulsar](https://en.wikipedia.org/wiki/Pulsar)   
---
![]({{site.baseurl}}/assets/img/whatIsPulsar.jpg)   
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The primary pulsar was found by chance by Jocelyn Chime and Anthony Hewish in 1967 who were considering removed systems at the time. Jocelyn Chime took note of little beats of radiation when their telescope was looking at a specific position within the sky and for a brief time, researchers thought they could be coming from an extraterrestrial civilization. The source of these beats was at first alluded to as LGM1, Small Green Man 1. This is first module of the six week long mooc related to data driven astronomy.   
![]({{site.baseurl}}/assets/img/pulsar.gif)
### Observation through telescope
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pulsars were, to begin with, found as radio sources they have presently been watched utilizing optical, X-ray, and gamma-ray telescopes. Jocelyn Chime and the telescope in Cambridge, Britain, utilized to find pulsars. Pulsar space experts have presently identified over 1500 pulsars and anticipate to find thousands more amid the other few a long time. More than two-thirds of the as of now known pulsars were found utilizing the Parkes radio telescope (the star of the film "The Dish"). The gigantic Arecibo radio telescope in Puerto Rico, the Green Bank telescopes in America, the Molonglo telescope in Australia, and the Jodrell Bank telescope in Britain have moreover made critical commitments in finding pulsars. The Parkes radio telescope in Australia has found more than twice as numerous pulsars as the rest of the world's telescopes put together.   
![]({{site.baseurl}}/assets/img/parker.jpg)
### How it works 
The MWA may be a low-frequency radio telescope found in Western Australia. It identifies radio emanation at frequencies between 80 and 300 megahertz, which is similar to well-known radio stations. It features an exceptionally large field of see, which implies it's extraordinary for doing expansive overview ventures. The grayscale could be a degree of the flux thickness of outflow from cosmic objects. Dark is tall flux thickness and gray is the foundation clamor. Most of the dark specks you see in a picture like this are far off radio universes. But a few are objects in our possess system, such as pulsars or supernova remainders.  
![]({{site.baseurl}}/assets/img/imagescale.png)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In radio astronomy, the flux density is measured in units of Janskys, which is equivalent to 10 to the power of -26 watts per square meter per hertz. In other words, the flux density is a measure of the spectral power received by a telescope detector of the unit projected area. Astronomy images are usually stored in a file format called FITS, and to view them you can download software like DS9 or use an online tool like Aladin. Some people like to display their images in false color but remember, radio frequencies don't have color. These color maps are just used to accentuate different aspects of the intensity scale.   
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We typically call something a detection if the flux density is more than five standard deviations higher than the noise in the local region. So if we look for radio emission at MWA frequencies at the location of all known pulsars, sometimes we find detections but most of the time we don't. When we don't detect something, it could be for a whole range of reasons. It could be that the pulsar is too far away, it could be the intrinsic emission isn't strong at these frequencies, or it could be that the emission is intermittent and switched off.   
### A clever technique - stacking
A clever technique called stacking is used to improve the signal to noise ratio and make a statistical detection of the invisible population. Image stacking can be a powerful technique for improving the quality of a photograph. It allows us to measure the statistical properties of a population we can't detect. Stacking works because the noise in a radio image is roughly random, with a Gaussian distribution centered on zero. When you add regions of an image that just have noise, the random numbers cancel out. But when you add regions of an image in which there are signals, the signals add together, increasing what we call the signal to noise ratio.  
![]({{site.baseurl}}/assets/img/imagestack1.png)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Let's take a signal that looks like a single Gaussian and then add some random noise. If we add enough noise, we can no longer see the signal. Now say we have 100 of these signals, each with random noise added. If we take the mean of these, we can see the signal to noise ratio has increased and we can detect the underlying signal over the whole population of 100 sources.  
![]({{site.baseurl}}/assets/img/imagestack.png) 
Presently we need to apply this to our pulsar location issue, but there's a capture. The undetected pulsars are found all over the sky. And so to stack them we, to begin with, got to move their positions so they're centered on the same pixel. Our stacking handle looks something like this.  
![]({{site.baseurl}}/assets/img/imagestack2.png) 
To calculate the mean stack we just take the mean of every pixel in the image and form a new image from the result. Each image had a non-detection, but by the help of stacking, the signal to noise ratio improved until we could eventually detect the underlying population of pulsars. The median stack would be a more robust statistic than the mean. As we know mean is more sensitive for outliners than the medians. If the distribution is symmetric then both will be the same but if is it is asymmetric then there would be som significant outliners, the median can be mush better indicator of the central value.   
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;One problem with the median stacking is if there would be larger number of images let say 600,000 and each of them of about 200 by 200 pixels which give us about 24,000,000,000 pixels in total, we need a large storage to perform stacking for these images. For example, if we calculate a median we have to hold all this memory at once. Let say each data point is stored as an 8 byte double floating point value i.e. 1 pixel = 8 bytes then we need total memory of about 600,000x40,000x8 which equals 192 GB storage.   
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The possible solutions for tackling this problem can be -   
* Reframing the problem  
* Buy a bigger computer (enough storage)  
* Develop a smarter solution  

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;First approach, what in case we cut down our pictures to 50 x 50 pixels we'd decrease our information measure by a factor of 16, which implies we'd only need 12 GB of memory, instead of 192. Typically a good solution if there are no critical data within the external parts of the images.   
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The second approach, to a few degrees this is often a great arrangement, but of course as before long as the information estimate increments we'd be back to the same issue.   
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The last approach is to improve our algorithm, currently, the problem is that calculating the median requires us to store all the data in memory. Hurray! we found the solution- the bin approx algorithm, it works as follows, as each image comes in, take the value of each pixel in the image and bin it. Once all of the images have been processed, you end up with a histogram of counts for each pixel in the image. Because the bins in the histogram are ordered, you can sum up the counts in the histogram starting from the smallest bin until you get to half the total number of numbers. You then use the value of the resulting bin as your median.   
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; So what happens when we do this stacking? We end up with an image like this, that shows a clear detection in the central few pixels. It may not look too impressive, but let's take a step back and think about what we're seeing here. We took a large set of images for which we could not detect any individual pulsars. When we lined the images up so all of the undetected pulsars are located in the center of the image, and then calculate the median across all of the images, we can see a detection.   
![]({{site.baseurl}}/assets/img/imagestack3.png)

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Some useful libraries in python are mathpyplot for plotting, astropy for FITS image processsing, and numpy for efficient algorithm and memory assignment.

